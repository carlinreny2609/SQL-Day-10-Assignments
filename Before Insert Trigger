create database assignment;

create table Adminlogin(
id int(10) AUTO_INCREMENT primary key,
name varchar(100) not null,
Users int not null
);

create table Userlogin(

total_Users int not null
);

DELIMITER $$
CREATE TRIGGER before_admin_insert
BEFORE INSERT
ON adminlogin FOR EACH ROW
BEGIN
 DECLARE rowcount INT;

 SELECT COUNT(*)
 INTO rowcount
 FROM Userlogin;

 IF rowcount > 0 THEN
 UPDATE userlogin
 SET total_Users= total_Users + new.users;

ELSE
 INSERT INTO userlogin(total_Users)
 VALUES(new.users);
 END IF;
END $$
DELIMITER ;

INSERT INTO Adminlogin(name, users)
VALUES('Bankofficers','50');
SELECT * FROM Userlogin; 
